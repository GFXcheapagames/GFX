<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login/Profile Button</title>
<script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-auth.js"></script>
<style>
  body { 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    height: 100vh; 
    background: black; 
    color: white; 
    font-family: sans-serif;
  }

  button {
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
    background: linear-gradient(90deg, #ff1a1a, #b30000);
    color: white;
  }

  #profilePopup {
    display: none;
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    background: #121212;
    border: 2px solid #ff1a1a;
    padding: 20px;
    border-radius: 12px;
    text-align: center;
  }

  #profilePopup button {
    margin-top: 10px;
    width: 80%;
  }
</style>
</head>
<body>

<button id="loginBtn">Login</button>

<div id="profilePopup">
  <p id="userEmail"></p>
  <button id="logoutBtn">Logout</button>
  <button id="closeProfileBtn">Close</button>
</div>

<script>
  // Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyDm5CwuDg6wQdGmyA9LWB7l3FP8yG9BS1o",
  authDomain: "gfx-cheap-games.firebaseapp.com",
  projectId: "gfx-cheap-games",
  storageBucket: "gfx-cheap-games.firebasestorage.app",
  messagingSenderId: "979059324821",
  appId: "1:979059324821:web:3b2f2958c0fa0a69fde89c"
  };

  const app = firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  const loginBtn = document.getElementById("loginBtn");
  const profilePopup = document.getElementById("profilePopup");
  const userEmail = document.getElementById("userEmail");
  const logoutBtn = document.getElementById("logoutBtn");
  const closeProfileBtn = document.getElementById("closeProfileBtn");

  // Open profile popup
  loginBtn.addEventListener("click", () => {
    const user = auth.currentUser;
    if (user) {
      userEmail.textContent = `Logged in as: ${user.email || "Unknown"}`;
      profilePopup.style.display = "block";
    } else {
      alert("Not logged in! Implement login flow here.");
    }
  });

  closeProfileBtn.addEventListener("click", () => {
    profilePopup.style.display = "none";
  });

  logoutBtn.addEventListener("click", async () => {
    await auth.signOut();
    loginBtn.textContent = "Login";
    profilePopup.style.display = "none";
  });

  // Auth state listener
  auth.onAuthStateChanged(user => {
    if (user) {
      loginBtn.textContent = "Profile";
    } else {
      loginBtn.textContent = "Login";
    }
  });
</script>

</body>
</html>
